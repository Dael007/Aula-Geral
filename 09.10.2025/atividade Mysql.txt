CREATE DATABASE ESTOQUE;
USE ESTOQUE;

CREATE TABLE LOCALIZACAO (
    ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
    NOME VARCHAR(50) NOT NULL,
    DESCRICAO TEXT
);
-- Verifica se a tabela existe
DESCRIBE LOCALIZACAO;

-- Se n√£o tiver as colunas ainda, cria:
ALTER TABLE LOCALIZACAO ADD COLUMN AREA_N2 NUMERIC(8,2);
ALTER TABLE LOCALIZACAO ADD COLUMN COR VARCHAR(20) NOT NULL DEFAULT 'ROSA';

-- Agora sim, pode inserir:
INSERT INTO LOCALIZACAO (NOME, DESCRICAO, AREA_N2, COR)
VALUES ('BLOCO X', 'BLA BLA BLA', 10.5, 'VERDE');

alter table CATEGORIA_ITEM drop foreign key categoria_item_IBFK_1;

-- Consultar resultado:
SELECT * FROM LOCALIZACAO;



CREATE TABLE CATEGORIA_ITEM(
    ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
    LOCALIZACAO_ID INT NOT NULL,
    NOME VARCHAR(50) NOT NULL,
    DESCRICAO TEXT,
    FOREIGN KEY (LOCALIZACAO_ID) REFERENCES LOCALIZACAO(ID)
);

CREATE TABLE ITEM_ESTOQUE(
    ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
    CATEGORIA_ID INT NOT NULL,
    NOME VARCHAR(50) NOT NULL,
    DESCRICAO TEXT,
    QUANTIDADE_MINIMA INT NOT NULL DEFAULT 0,
    CODIGO VARCHAR(30) NOT NULL,
    NOME_IMAGEM VARCHAR(60)
);
